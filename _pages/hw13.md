---
title: 第13周作业：类
layout: post
---

### 第1关：温度计类

```cpp
#include "class.h"

Thermometer::Thermometer() {}
Thermometer::~Thermometer() {}
Thermometer::Thermometer(double temp) { SetTempCelsius(temp); }

void Thermometer::SetTempCelsius(double tempCelsius) {
	this->tempCelsius = tempCelsius;
	this->tempFahrenheit = tempCelsius * 1.8 + 32;
}

void Thermometer::SetTempFahrenheit(double tempFahrenheit) {
	this->tempFahrenheit = tempFahrenheit;
	this->tempCelsius = (tempFahrenheit - 32) / 1.8;
}

double Thermometer::GetTempCelsius() {
	return tempCelsius;
}

double Thermometer::GetTempFahrenheit() {
	return tempFahrenheit;
}
```


### 第2关：时钟类

```cpp
#include "class.h"
#include <bits/stdc++.h>

using namespace std;

void Clock::input() {
	char tmp;
	cin >> hh >> tmp >> mm >> tmp >> ss;
}

void Clock::output() {
	printf("%02d:%02d:%02d\n", hh, mm, ss);
}

bool operator < (Clock a, Clock b) {
	if (a.hh != b.hh) return a.hh < b.hh;
	if (a.mm != b.mm) return a.mm < b.mm;
	return a.ss < b.ss;
}

Clock operator - (Clock a, Clock b) {
	assert(b < a);
	Clock res;
	if (a.ss > b.ss) res.ss = a.ss - b.ss;
	else res.ss = a.ss + 60 - b.ss, ++b.mm;
	if (a.mm > b.mm) res.mm = a.mm - b.mm;
	else res.mm = a.mm + 60 - b.mm, ++b.hh;
	res.hh = a.hh - b.hh;
	return res;
}
```

```cpp
#ifndef CLASS_H
#define CLASS_H

class Clock {
private:
public:
	int hh, mm, ss;
    void input();
    void output();
};

bool operator < (Clock a, Clock b);
Clock operator - (Clock a, Clock b);

#endif /* CLASS_H */

```


```cpp
#include <bits/stdc++.h>
#include "class.h"

using namespace std;

Clock Time(Clock c1, Clock c2){
	if (c1 < c2) swap(c1, c2);
	return c1 - c2;
}

int main(){
	Clock a, b;
	a.input(), b.input();
	Clock c = Time(a, b);
	c.output();
    return 0;
}

```


### 第3关：

```cpp
#include <bits/stdc++.h>
#include "class.h"

using namespace std;

void Roman::SetN(string s) { sscanf(s.c_str(), "%d", &num); }

void Roman::SetR(string s) {
	num = 0;
	for (int i = 0; i < s.size(); ++i) {
		if (s[i] == 'M') num += 1000;
		else if (s[i] == 'C') {
			if (i + 1 < s.size()) {
				if (s[i + 1] == 'D') { num += 400, ++i; continue; }
				if (s[i + 1] == 'M') { num += 900, ++i; continue; }
			}
			num += 100;
		} else if (s[i] == 'D') num += 500;

		else if (s[i] == 'X') {
			if (i + 1 < s.size()) {
				if (s[i + 1] == 'L') { num += 40, ++i; continue; }
				if (s[i + 1] == 'C') { num += 90, ++i; continue; }
			}
			num += 10;
		} else if (s[i] == 'L') num += 50;

		else if (s[i] == 'I') {
			if (i + 1 < s.size()) {
				if (s[i + 1] == 'V') { num += 4, ++i; continue; }
				if (s[i + 1] == 'X') { num += 9, ++i; continue; }
			}
			++num;
		} else if (s[i] == 'V') num += 5;
	}
}

void Roman::ShowN() { printf("%d\n", num); }
void Roman::ShowR() {
	int now = num;
	while (now >= 1000) cout << 'M', now -= 1000;
	while (now >= 100) {
		if (now >= 900) cout << "CM", now -= 900;
		else if (now >= 500) cout << "D", now -= 500;
		else if (now >= 400) cout << "CD", now -= 400;
		else cout << "C", now -= 100;
	}
	while (now >= 10) {
		if (now >= 90) cout << "XC", now -= 90;
		else if (now >= 50) cout << "L", now -= 50;
		else if (now >= 40) cout << "XL", now -= 40;
		else cout << "X", now -= 10;
	}
	while (now) {
		if (now >= 9) cout << "IX", now -= 9;
		else if (now >= 5) cout << "V", now -= 5;
		else if (now >= 4) cout << "IV", now -= 4;
		else cout << "I", --now;
	}
	cout << endl;
}

```

```
#ifndef CLASS_H
#define CLASS_H
#include <string>
using namespace std;

class Roman {
public:
	int num;
	void SetN(string s);
	void SetR(string s);
	void ShowN();
	void ShowR();
};

#endif

```
```
#include <bits/stdc++.h>
#include "class.h"

using namespace std;

Roman a;

int main() {
	string tmp;
	cin >> tmp;
	while (tmp[0] != '@') {
		if (isdigit(tmp[0])) {
			a.SetN(tmp);
			a.ShowR();
		} else {
			a.SetR(tmp);
			a.ShowN();
		}
		cin >> tmp;
	}
	return 0;
}

```


### 第4关：矩阵

```cpp
#include <bits/stdc++.h>
#include "class.h"

using namespace std;

void Matrix::Initialization() {
	cin >> n >> m;
	for (int i = 1; i <= n; ++i)
		for (int j = 1; j <= m; ++j)
			cin >> a[i][j];
}

void Matrix::Transpose() {
	for (int j = 1; j <= m; ++j) {
		for (int i = 1; i <= n; ++i)
			cout << a[i][j] << (i == n ? '\n' : ' ');
	}
}

void Matrix::Determinant() {
	const double eps = 1e-6;
	if (n != m) return puts("@"), void();
	for (int i = 1; i <= n; ++i) {
		if (-eps < a[i][i] and a[i][i] < eps)
			for (int j = i + 1; j <= n; ++j)
				if (a[j][i]) {
					swap(a[i], a[j]);
					break;
				}
		if (-eps < a[i][i] and a[i][i] < eps)
			return puts("0"), void();
		for (int j = i + 1; j <= n; ++j) {
			double tmp = a[j][i] / a[i][i];
			for (int k = i; k <= n; ++k)
				a[j][k] -= a[i][k] * tmp;
		}
	}

	double res = 1;
	for (int i = 1; i <= n; ++i)
		res *= a[i][i];
	cout << res << endl;
}

```

```cpp
#ifndef CLASS_H
#define CLASS_H

class Matrix {
private:
	int n, m;
	double a[1001][1001];
public:
	void Initialization();
	void Transpose();
	void Determinant();
};

#endif

```

```cpp
#include <bits/stdc++.h>
#include "class.h"

using namespace std;

Matrix a;

int main() {
	a.Initialization();
	a.Transpose();
	a.Determinant();
	return 0;
}

```