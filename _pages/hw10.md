---
title: 第10周作业：指针
layout: post
---

### 第1关：变换字母顺序

```cpp
#include <iostream>

using namespace std;

int main() {
	int n; cin >> n;
	int *a = new int [n + 5];
	char *s = new char [n + 5];
	char *t = new char [n + 5];

	cin >> s + 1;
	for (int i = 1; i <= n; ++i) cin >> a[i], ++ a[i];
	for (int i = 1; i <= n; ++i) t[i] = s[a[i]];
	cout << t + 1 << endl;
	return 0;
}
```


### 第2关：函数补全

```cpp
#include <iostream>
using namespace std;

int myfun(int* a, int* b);
// do not change main function
int main() {
    int x, y;
    cin >> x >> y;
    cout << myfun(&x, &y) << ' ';
    cout << x << ' ' << y;
    return 0;
}

int myfun(int* a, int* b) {
    int res = (*a - *b) % 10;
    *a *= 3;
    *b *= 2;
    return res;    
}

```


### 第3关：敏感词过滤

```cpp
#include <iostream>
#include <cstring>

using namespace std;

char toupper(char ch)
{
    if (ch >= 'a' && ch <= 'z') {
        return ch - 'a' + 'A';
    }
    return ch;
}

int next(char *s, int i)
{
	int j;
	for (j = i + 1; s[j]; ++j)
		if (s[j] == '@' or s[j] == '$' or s[j] == '#');
		else return j;
	return j;
}

bool work(char *s)
{
	bool res = false;
	int n = strlen(s), tot = 0;
	char *t = new char [n];
	for (int i = 0; i < n; ++i)
		if (toupper(s[i]) == 'F') {
			if (toupper(s[next(s, i)]) == 'D')
				res = true, i = next(s, i);
			else t[tot++] = s[i];
		} else if (toupper(s[i]) == 'L') {
			if (s[next(s, i)] == '4')
				res = true, i = next(s, i);
			else t[tot++] = s[i];
		} else t[tot++] = s[i];
	t[tot] = 0;
	strcpy(s, t);
	delete [] t;
	return res;
}

int main()
{
	char *s = new char [205];
	cin >> s;
	while (work(s));
	cout << s << endl;
	delete [] s;
	return 0;
}

```


### 第4关：Julian历法

```cpp
#include <bits/stdc++.h>

using namespace std;

char * julian(int year, int day) {
    bool isLeap = !(year & 3) and (year % 100 or year % 400 == 0);
	char *s = new char [10];
	if (day > 31) day -= 31;
	else return sprintf(s, "Jan %02d\0", day), s;
	if (day > (isLeap ? 29 : 28)) day -= isLeap ? 29 : 28;
	else return sprintf(s, "Feb %02d\0", day), s;
	if (day > 31) day -= 31;
	else return sprintf(s, "Mar %02d\0", day), s;
	if (day > 30) day -= 30;
	else return sprintf(s, "Apr %02d\0", day), s;
	if (day > 31) day -= 31;
	else return sprintf(s, "May %02d\0", day), s;
	if (day > 30) day -= 30;
	else return sprintf(s, "Jun %02d\0", day), s;
	if (day > 31) day -= 31;
	else return sprintf(s, "Jul %02d\0", day), s;
	if (day > 31) day -= 31;
	else return sprintf(s, "Aug %02d\0", day), s;
	if (day > 30) day -= 30;
	else return sprintf(s, "Sept %02d\0", day), s;
	if (day > 31) day -= 31;
	else return sprintf(s, "Oct %02d\0", day), s;
	if (day > 30) day -= 30;
	else return sprintf(s, "Nov %02d\0", day), s;
	if (day > 31) return NULL;
	return sprintf(s, "Dec %02d\0", day), s;
}

int main() {
    int year, day;
    char * res;
    cin >> year >> day;
    res = julian(year, day);
    if (res) cout << res << endl;
    delete [] res;
    return 0;
}

```
